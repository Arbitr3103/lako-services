---
import Logo from './Logo.astro';
import { t, getLocalizedPath, type Locale } from '../i18n/utils';

interface Props {
  locale: Locale;
}

const { locale } = Astro.props;
const year = new Date().getFullYear();

const navItems = [
  { key: 'nav.logistics', path: '/logistics' },
  { key: 'nav.smallBusiness', path: '/small-business' },
  { key: 'nav.about', path: '/about' },
  { key: 'nav.contact', path: '/contact' },
] as const;
---
<footer class="bg-bg-alt border-t border-border">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      {/* Column 1: Company info */}
      <div>
        <Logo />
        <p class="mt-4 text-text-muted text-sm">
          {t(locale, 'footer.location')}
        </p>
        <p class="mt-1 text-text-muted text-sm">
          {t(locale, 'about.contact.phone')}
        </p>
        <p class="mt-1 text-text-muted text-sm">
          {t(locale, 'about.contact.email')}
        </p>
      </div>

      {/* Column 2: Navigation */}
      <div>
        <h3 class="font-semibold mb-4 text-text">{t(locale, 'nav.home')}</h3>
        <ul class="space-y-2">
          {navItems.map((item) => (
            <li>
              <a
                href={getLocalizedPath(item.path, locale)}
                class="text-text-muted hover:text-primary transition-colors text-sm"
              >
                {t(locale, item.key)}
              </a>
            </li>
          ))}
        </ul>
      </div>

      {/* Column 3: Legal */}
      <div>
        <h3 class="font-semibold mb-4 text-text">{t(locale, 'footer.legal')}</h3>
        <ul class="space-y-2">
          <li>
            <a
              href={getLocalizedPath('/privacy-policy', locale)}
              class="text-text-muted hover:text-primary transition-colors text-sm"
            >
              {t(locale, 'footer.privacyPolicy')}
            </a>
          </li>
          <li>
            <a
              href={getLocalizedPath('/cookie-policy', locale)}
              class="text-text-muted hover:text-primary transition-colors text-sm"
            >
              {t(locale, 'footer.cookiePolicy')}
            </a>
          </li>
          <li>
            <a
              href={getLocalizedPath('/terms', locale)}
              class="text-text-muted hover:text-primary transition-colors text-sm"
            >
              {t(locale, 'footer.termsOfService')}
            </a>
          </li>
        </ul>
      </div>

      {/* Column 4: Social / Contact */}
      <div>
        <h3 class="font-semibold mb-4 text-text">
          {t(locale, 'footer.contactUs')}
        </h3>
        <div class="flex flex-col gap-3">
          <a href="https://t.me/lako_services_notify_bot" target="_blank" rel="noopener" class="inline-flex items-center gap-2 text-text-muted hover:text-primary transition-colors text-sm">
            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.479.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg>
            Telegram
          </a>
          <a href="mailto:info@lako.services" class="inline-flex items-center gap-2 text-text-muted hover:text-primary transition-colors text-sm">
            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
            info@lako.services
          </a>
        </div>
      </div>
    </div>

    <div class="mt-8 pt-8 border-t border-border text-center text-text-muted text-sm">
      &copy; {year} {t(locale, 'footer.company')}. {t(locale, 'footer.rights')}.
    </div>
  </div>
</footer>
