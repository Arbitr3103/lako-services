---
import BaseLayout from '../../layouts/BaseLayout.astro';
import CTA from '../../components/CTA.astro';
import SectionHeading from '../../components/SectionHeading.astro';
import { t, tObject, getLocalizedPath } from '../../i18n/utils';

const locale = 'en';

const howItWorksSteps = tObject<Array<{title: string, description: string}>>(locale, 'smallBusiness.howItWorks.steps');
const serviceItems = tObject<Array<{title: string, description: string, cta: string}>>(locale, 'smallBusiness.services.items');
const benefitItems = tObject<Array<{title: string, description: string}>>(locale, 'smallBusiness.benefits.items');
const comparisonRows = tObject<Array<{label: string, catalog: boolean, admin: boolean}>>(locale, 'smallBusiness.bots.comparison.rows');
const faqItems = tObject<Array<{question: string, answer: string}>>(locale, 'smallBusiness.faq.items');
const trustItems = tObject<string[]>(locale, 'smallBusiness.trustBanner.items');

const protectionItems = tObject<Array<{title: string, description: string}>>(locale, 'smallBusiness.protection.items');
const inventoryItems = tObject<Array<{title: string, description: string}>>(locale, 'smallBusiness.inventory.items');
const pricingPlans = tObject<Array<{name: string, price: string, period: string, description: string, features: string[], cta: string, popular: boolean}>>(locale, 'smallBusiness.pricing.plans');
const seoBlockTitle = t(locale, 'smallBusiness.seoBlock.title');
const seoBlockText = t(locale, 'smallBusiness.seoBlock.text');
const ownerDaySteps = tObject<Array<{time: string, title: string, description: string}>>(locale, 'smallBusiness.ownerDay.steps');
const socialProofStats = tObject<Array<{value: string, label: string}>>(locale, 'smallBusiness.socialProof.stats');

const faqJsonLd = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": faqItems.map(item => ({
    "@type": "Question",
    "name": item.question,
    "acceptedAnswer": {
      "@type": "Answer",
      "text": item.answer
    }
  }))
};

const stepIcons = [
  `<svg class="w-7 h-7 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"/></svg>`,
  `<svg class="w-7 h-7 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"/></svg>`,
  `<svg class="w-7 h-7 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"/></svg>`,
  `<svg class="w-7 h-7 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"/><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg>`,
];

const serviceIcons = [
  /* Scissors - barbershops */
  `<svg class="w-7 h-7 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M14.121 14.121A3 3 0 1 0 9.88 9.88m4.242 4.242L9.88 9.88m4.242 4.242L6.343 17.657m3.536-7.778L6.343 6.343" /></svg>`,
  /* Tooth - dental */
  `<svg class="w-7 h-7 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 2C9.5 2 7 4 7 7c0 2 .5 4 1 6 .5 2.5 1 5 1.5 7 .2.8 1.3.8 1.5 0 .3-1 .7-2.5 1-4 .3 1.5.7 3 1 4 .2.8 1.3.8 1.5 0 .5-2 1-4.5 1.5-7 .5-2 1-4 1-6 0-3-2.5-5-5-5z" /></svg>`,
  /* Wrench - auto */
  `<svg class="w-7 h-7 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M11.42 15.17L17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085" /></svg>`,
  /* Hanger - dryclean */
  `<svg class="w-7 h-7 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3c-1.2 0-4 .5-4 3M12 3c1.2 0 4 .5 4 3M12 3V2M8 6c-3 0-4 2-4 4 0 3 2 12 2 12h12s2-9 2-12c0-2-1-4-4-4" /></svg>`,
  /* Car - rent-a-car */
  `<svg class="w-7 h-7 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.147-.504 1.147-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375L18 9.75l-1.5-4.5H7.5L6 9.75 2.25 14.25m0 0V6.375c0-.621.504-1.125 1.125-1.125h17.25c.621 0 1.125.504 1.125 1.125v7.875" /></svg>`,
];
---
<BaseLayout
  title={t(locale, 'seo.smallBusiness.title')}
  description={t(locale, 'seo.smallBusiness.description')}
  locale={locale}
>
  {/* Hero */}
  <section class="relative overflow-hidden bg-gradient-to-br from-primary/5 via-bg to-accent/5">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 md:py-36">
      <div class="max-w-3xl mx-auto text-center">
        <span class="inline-block text-sm font-semibold uppercase tracking-wider text-accent bg-accent/10 px-4 py-1.5 rounded-full mb-6">
          {t(locale, 'smallBusiness.hero.badge')}
        </span>
        <h1 class="text-4xl md:text-6xl lg:text-7xl font-bold tracking-tight text-text">
          {t(locale, 'smallBusiness.hero.title')}
        </h1>
        <p class="mt-6 text-lg md:text-xl leading-relaxed text-text-light max-w-2xl mx-auto">
          {t(locale, 'smallBusiness.hero.subtitle')}
        </p>
        <div class="mt-10 flex flex-col sm:flex-row gap-4 justify-center">
          <CTA href="#how-it-works" variant="accent" size="lg">
            {t(locale, 'smallBusiness.hero.cta')}
          </CTA>
          <CTA href={getLocalizedPath('/dodaj-biznis', locale)} variant="secondary" size="lg" class="!bg-transparent !border-2 !border-primary hover:!bg-primary/10">
            {t(locale, 'smallBusiness.hero.ctaSecondary')}
          </CTA>
        </div>
      </div>
    </div>
    <div class="absolute inset-0 -z-10 overflow-hidden">
      <div class="absolute -top-40 -right-40 w-80 h-80 bg-primary/10 rounded-full blur-3xl"></div>
      <div class="absolute -bottom-40 -left-40 w-80 h-80 bg-accent/10 rounded-full blur-3xl"></div>
    </div>
  </section>

  {/* Owner Day Timeline */}
  <section class="reveal py-24 bg-bg-alt">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <SectionHeading>{t(locale, 'smallBusiness.ownerDay.title')}</SectionHeading>
      <p class="text-center text-lg text-text-light max-w-2xl mx-auto mb-16">
        {t(locale, 'smallBusiness.ownerDay.subtitle')}
      </p>

      <div class="relative">
        {/* Vertical line */}
        <div class="absolute left-8 md:left-16 top-0 bottom-0 w-0.5 bg-primary/20"></div>

        <div class="space-y-12">
          {ownerDaySteps.map((step, i) => (
            <div class="relative flex gap-6 md:gap-8">
              {/* Time badge */}
              <div class="flex-shrink-0 w-16 md:w-32 flex items-start justify-center z-10">
                <span class="inline-flex items-center justify-center bg-primary text-bg text-sm md:text-base font-bold px-3 py-1.5 rounded-full whitespace-nowrap">
                  {step.time}
                </span>
              </div>
              {/* Content */}
              <div class="flex-1 bg-bg-card rounded-2xl p-6 border border-border hover:border-primary/30 transition-colors">
                <h3 class="text-lg font-semibold text-text mb-2">{step.title}</h3>
                <p class="text-text-light">{step.description}</p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  {/* How it works — 4-step flow */}
  <section id="how-it-works" class="reveal py-24 bg-bg-alt">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <SectionHeading>{t(locale, 'smallBusiness.howItWorks.title')}</SectionHeading>

      <div class="relative max-w-5xl mx-auto">
        <div class="hidden md:block absolute top-24 left-[calc(12.5%+24px)] right-[calc(12.5%+24px)] h-0.5 border-t-2 border-dashed border-primary/30"></div>

        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          {howItWorksSteps.map((step, i) => (
            <div class="relative flex flex-col items-center text-center">
              <div class="text-5xl font-bold text-accent/30 mb-2">{i + 1}</div>
              <div class="relative z-10 w-14 h-14 bg-primary/10 rounded-xl flex items-center justify-center mb-4">
                <Fragment set:html={stepIcons[i]} />
              </div>
              <h3 class="text-lg font-semibold mb-2">{step.title}</h3>
              <p class="text-text-light text-sm">{step.description}</p>
              {i < 3 && (
                <div class="md:hidden mt-4 text-primary/30">
                  <svg class="w-6 h-6 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 13.5L12 21m0 0l-7.5-7.5M12 21V3" />
                  </svg>
                </div>
              )}
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  {/* Services — Who is this for? */}
  <section class="reveal py-24 bg-bg">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <SectionHeading>{t(locale, 'smallBusiness.services.title')}</SectionHeading>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
        {serviceItems.map((item, i) => (
          <div class:list={[
            'bg-bg-card rounded-2xl p-8 border border-border hover:border-primary hover:shadow-lg hover:shadow-primary/5 transition-all duration-300 hover:-translate-y-1 flex flex-col',
            i === 4 && 'md:col-span-2 md:max-w-[calc(50%-1rem)] md:mx-auto lg:col-span-1 lg:max-w-none'
          ]}>
            <div class="w-14 h-14 bg-accent/10 rounded-xl flex items-center justify-center mb-6">
              <Fragment set:html={serviceIcons[i]} />
            </div>
            <h3 class="text-xl font-semibold mb-2">{item.title}</h3>
            <p class="text-text-light flex-1">{item.description}</p>
            <a href={getLocalizedPath('/dodaj-biznis', locale)} class="inline-flex items-center gap-1 text-sm font-medium text-accent hover:underline mt-4">
              {item.cta} →
            </a>
          </div>
        ))}
      </div>
    </div>
  </section>

  {/* Benefits */}
  <section class="reveal py-24 bg-bg-alt">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <SectionHeading>{t(locale, 'smallBusiness.benefits.title')}</SectionHeading>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
        {benefitItems.map((item) => (
          <div class="bg-bg-card rounded-xl p-6 border border-border hover:border-green-500/30 transition-colors flex gap-4">
            <div class="flex-shrink-0 w-12 h-12 bg-green-500/10 rounded-full flex items-center justify-center mt-1">
              <svg class="w-6 h-6 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
              </svg>
            </div>
            <div>
              <h3 class="text-xl font-semibold mb-1">{item.title}</h3>
              <p class="text-text-light">{item.description}</p>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  {/* Protection — Legal protection */}
  <section class="reveal py-24 bg-bg">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <SectionHeading>{t(locale, 'smallBusiness.protection.title')}</SectionHeading>
      <p class="text-center text-lg text-text-light max-w-2xl mx-auto mb-12">
        {t(locale, 'smallBusiness.protection.subtitle')}
      </p>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
        {protectionItems.map((item, i) => (
          <div class="bg-bg-card rounded-2xl p-8 border border-border hover:border-primary hover:shadow-lg hover:shadow-primary/5 transition-all duration-300 hover:-translate-y-1 text-center">
            <div class="w-14 h-14 bg-primary/10 rounded-xl flex items-center justify-center mb-6 mx-auto">
              {i === 0 && (
                <svg class="w-7 h-7 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z" />
                  <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z" />
                </svg>
              )}
              {i === 1 && (
                <svg class="w-7 h-7 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
                </svg>
              )}
              {i === 2 && (
                <svg class="w-7 h-7 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m8.25 3v6.75m0 0l-3-3m3 3l3-3M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z" />
                </svg>
              )}
            </div>
            <h3 class="text-xl font-semibold mb-2">{item.title}</h3>
            <p class="text-text-light">{item.description}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  {/* Inventory */}
  <section class="reveal py-24 bg-bg-alt">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <SectionHeading>{t(locale, 'smallBusiness.inventory.title')}</SectionHeading>
      <p class="text-center text-lg text-text-light max-w-2xl mx-auto mb-12">
        {t(locale, 'smallBusiness.inventory.subtitle')}
      </p>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
        {inventoryItems.map((item, i) => (
          <div class="bg-bg-card rounded-2xl p-8 border border-border hover:border-accent hover:shadow-lg hover:shadow-accent/5 transition-all duration-300 hover:-translate-y-1">
            <div class="w-14 h-14 bg-accent/10 rounded-xl flex items-center justify-center mb-6">
              {i === 0 && (
                <svg class="w-7 h-7 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z" />
                </svg>
              )}
              {i === 1 && (
                <svg class="w-7 h-7 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0" />
                </svg>
              )}
              {i === 2 && (
                <svg class="w-7 h-7 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" />
                </svg>
              )}
            </div>
            <h3 class="text-xl font-semibold mb-2">{item.title}</h3>
            <p class="text-text-light">{item.description}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  {/* QR Payment — IPS */}
  <section class="reveal py-16 bg-bg">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto flex flex-col md:flex-row items-center gap-8 bg-bg-card rounded-2xl p-8 md:p-12 border border-border">
        <div class="flex-shrink-0 w-20 h-20 bg-green-500/10 rounded-2xl flex items-center justify-center">
          <svg class="w-10 h-10 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 013.75 9.375v-4.5zM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 01-1.125-1.125v-4.5zM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0113.5 9.375v-4.5z" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 6.75h.75v.75h-.75v-.75zM6.75 16.5h.75v.75h-.75v-.75zM16.5 6.75h.75v.75h-.75v-.75zM13.5 13.5h.75v.75h-.75v-.75zM13.5 19.5h.75v.75h-.75v-.75zM19.5 13.5h.75v.75h-.75v-.75zM19.5 19.5h.75v.75h-.75v-.75zM16.5 16.5h.75v.75h-.75v-.75z" />
          </svg>
        </div>
        <div>
          <h2 class="text-2xl md:text-3xl font-bold text-text mb-3">{t(locale, 'smallBusiness.qrPayment.title')}</h2>
          <p class="text-text-light text-lg">{t(locale, 'smallBusiness.qrPayment.description')}</p>
        </div>
      </div>
    </div>
  </section>

  {/* Bots — Two bots, one system */}
  <section class="reveal py-24 bg-bg">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <SectionHeading>{t(locale, 'smallBusiness.bots.title')}</SectionHeading>

      <p class="text-center text-lg text-text-light max-w-2xl mx-auto mb-12">
        {t(locale, 'smallBusiness.bots.subtitle')}
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
        <div class="bg-bg-card rounded-2xl p-8 border border-border hover:border-primary hover:shadow-lg hover:shadow-primary/5 transition-all duration-300 hover:-translate-y-1">
          <div class="flex items-center gap-3 mb-6">
            <div class="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center">
              <svg class="w-6 h-6 text-primary" viewBox="0 0 24 24" fill="currentColor"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.479.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg>
            </div>
            <span class="text-xs font-semibold uppercase tracking-wider text-primary bg-primary/10 px-3 py-1 rounded-full">
              {t(locale, 'smallBusiness.bots.catalog.badge')}
            </span>
          </div>
          <h3 class="text-xl font-semibold mb-2">{t(locale, 'smallBusiness.bots.catalog.title')}</h3>
          <p class="text-text-light mb-6">{t(locale, 'smallBusiness.bots.catalog.description')}</p>
          <a href="https://t.me/LakoBot" target="_blank" rel="noopener" class="inline-flex items-center gap-2 text-primary font-medium hover:underline">
            {t(locale, 'smallBusiness.bots.catalog.cta')}
            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
          </a>
        </div>

        <div class="bg-bg-card rounded-2xl p-8 border border-border hover:border-accent hover:shadow-lg hover:shadow-primary/5 transition-all duration-300 hover:-translate-y-1">
          <div class="flex items-center gap-3 mb-6">
            <div class="w-12 h-12 bg-accent/10 rounded-xl flex items-center justify-center">
              <svg class="w-6 h-6 text-accent" viewBox="0 0 24 24" fill="currentColor"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.479.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg>
            </div>
            <span class="text-xs font-semibold uppercase tracking-wider text-accent bg-accent/10 px-3 py-1 rounded-full">
              {t(locale, 'smallBusiness.bots.admin.badge')}
            </span>
          </div>
          <h3 class="text-xl font-semibold mb-2">{t(locale, 'smallBusiness.bots.admin.title')}</h3>
          <p class="text-text-light mb-6">{t(locale, 'smallBusiness.bots.admin.description')}</p>
          <a href="https://t.me/LakoAdminBot" target="_blank" rel="noopener" class="inline-flex items-center gap-2 text-accent font-medium hover:underline">
            {t(locale, 'smallBusiness.bots.admin.cta')}
            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
          </a>
        </div>
      </div>

      {/* Comparison table */}
      <div class="max-w-2xl mx-auto mt-12">
        <div class="bg-bg-card rounded-2xl border border-border overflow-hidden">
          <table class="w-full">
            <thead>
              <tr class="border-b border-border">
                <th class="text-left px-6 py-4 text-sm font-semibold text-text">{t(locale, 'smallBusiness.bots.comparison.features')}</th>
                <th class="px-6 py-4 text-sm font-semibold text-primary text-center">Lako Catalog</th>
                <th class="px-6 py-4 text-sm font-semibold text-accent text-center">Lako Admin</th>
              </tr>
            </thead>
            <tbody>
              {comparisonRows.map((row, i) => (
                <tr class:list={[i < comparisonRows.length - 1 && 'border-b border-border/50', 'hover:bg-bg-card-hover/50 transition-colors']}>
                  <td class="px-6 py-3 text-sm text-text-light">{row.label}</td>
                  <td class="px-6 py-3 text-center">
                    {row.catalog ? (
                      <svg class="w-5 h-5 text-green-400 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" /></svg>
                    ) : (
                      <span class="text-text-light/40">—</span>
                    )}
                  </td>
                  <td class="px-6 py-3 text-center">
                    {row.admin ? (
                      <svg class="w-5 h-5 text-green-400 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" /></svg>
                    ) : (
                      <span class="text-text-light/40">—</span>
                    )}
                  </td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </div>

      {/* Screenshots — Catalog */}
      <div class="max-w-5xl mx-auto mt-12">
        <h3 class="text-center text-lg font-semibold text-text mb-6">Lako Catalog — {t(locale, 'smallBusiness.bots.screenshotPlaceholder')}</h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div class="bg-bg-card rounded-2xl border border-border overflow-hidden hover:scale-[1.02] transition-transform duration-300">
            <img src="/images/screenshots/katalog-welcome.png" alt="Lako Catalog — welcome screen" class="w-full h-auto" loading="lazy" />
          </div>
          <div class="bg-bg-card rounded-2xl border border-border overflow-hidden hover:scale-[1.02] transition-transform duration-300">
            <img src="/images/screenshots/katalog-search.png" alt="Lako Catalog — business search" class="w-full h-auto" loading="lazy" />
          </div>
          <div class="bg-bg-card rounded-2xl border border-border overflow-hidden hover:scale-[1.02] transition-transform duration-300">
            <img src="/images/screenshots/katalog-tma.png" alt="Lako Catalog — service catalog" class="w-full h-auto" loading="lazy" />
          </div>
        </div>
      </div>

      {/* Screenshots — Admin */}
      <div class="max-w-md mx-auto mt-12">
        <h3 class="text-center text-lg font-semibold text-text mb-6">Lako Admin — {t(locale, 'smallBusiness.bots.adminScreenshotPlaceholder')}</h3>
        <div class="bg-bg-card rounded-2xl border border-border overflow-hidden hover:scale-[1.02] transition-transform duration-300">
          <img src="/images/screenshots/admin-registration.png" alt="Lako Admin — business registration" class="w-full h-auto" loading="lazy" />
        </div>
      </div>
    </div>
  </section>

  {/* Trust Banner */}
  <section class="py-8 bg-bg-alt">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <a href={getLocalizedPath('/zastita-podataka', locale)} class="group block max-w-4xl mx-auto rounded-2xl border border-green-500/30 bg-gradient-to-r from-green-500/10 via-green-500/5 to-transparent p-8 hover:border-green-500/50 hover:shadow-lg hover:shadow-green-500/5 transition-all duration-300">
        <div class="flex flex-col md:flex-row items-start md:items-center gap-6">
          <div class="w-14 h-14 bg-green-500/15 rounded-2xl flex items-center justify-center flex-shrink-0">
            <svg class="w-8 h-8 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
            </svg>
          </div>
          <div class="flex-1">
            <h3 class="text-xl font-bold text-text mb-1">{t(locale, 'smallBusiness.trustBanner.question')}</h3>
            <p class="text-text-light text-sm mb-3">{t(locale, 'smallBusiness.trustBanner.subtitle')}</p>
            <div class="flex flex-wrap gap-x-6 gap-y-1">
              {trustItems.map((item) => (
                <span class="flex items-center gap-2 text-sm text-green-400">
                  <svg class="w-4 h-4 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                  </svg>
                  {item}
                </span>
              ))}
            </div>
          </div>
          <span class="text-green-400 font-medium text-sm whitespace-nowrap opacity-70 group-hover:opacity-100 transition-opacity flex items-center gap-1">
            {t(locale, 'smallBusiness.trustBanner.cta')}
            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
            </svg>
          </span>
        </div>
      </a>
    </div>
  </section>

  {/* Social Proof */}
  <section class="reveal py-20 bg-bg">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl md:text-4xl font-bold text-center text-text mb-12">
        {t(locale, 'smallBusiness.socialProof.title')}
      </h2>

      <div class="grid grid-cols-2 md:grid-cols-4 gap-8 max-w-4xl mx-auto">
        {socialProofStats.map((stat) => (
          <div class="text-center">
            <div class="text-4xl md:text-5xl font-bold text-primary mb-2">{stat.value}</div>
            <div class="text-sm text-text-light">{stat.label}</div>
          </div>
        ))}
      </div>
    </div>
  </section>

  {/* Pricing */}
  <section class="reveal py-24 bg-bg">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <SectionHeading>{t(locale, 'smallBusiness.pricing.title')}</SectionHeading>
      <p class="text-center text-lg text-text-light max-w-2xl mx-auto mb-12">
        {t(locale, 'smallBusiness.pricing.subtitle')}
      </p>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
        {pricingPlans.map((plan) => (
          <div class:list={[
            'relative bg-bg-card rounded-2xl p-8 border transition-all duration-300 hover:-translate-y-1',
            plan.popular ? 'border-primary shadow-lg shadow-primary/10 ring-1 ring-primary/30' : 'border-border hover:border-primary/50'
          ]}>
            {plan.popular && (
              <div class="absolute -top-3 left-1/2 -translate-x-1/2">
                <span class="bg-primary text-bg text-xs font-bold uppercase tracking-wider px-4 py-1 rounded-full">Popular</span>
              </div>
            )}
            <div class="text-center mb-6">
              <h3 class="text-xl font-bold text-text mb-1">{plan.name}</h3>
              <p class="text-sm text-text-light mb-4">{plan.description}</p>
              {plan.price !== '0' ? (
                <div>
                  <span class="text-4xl font-bold text-text">{plan.price}</span>
                  <span class="text-text-light ml-1">{plan.period}</span>
                </div>
              ) : (
                <div>
                  <span class="text-2xl font-bold text-green-400">{plan.period}</span>
                </div>
              )}
            </div>
            <ul class="space-y-3 mb-8">
              {plan.features.map((feature) => (
                <li class="flex items-start gap-2 text-sm text-text-light">
                  <svg class="w-5 h-5 text-green-400 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                  </svg>
                  {feature}
                </li>
              ))}
            </ul>
            <CTA
              href={plan.popular ? getLocalizedPath('/dodaj-biznis', locale) : plan.price === '0' ? getLocalizedPath('/dodaj-biznis', locale) : getLocalizedPath('/contact', locale)}
              variant={plan.popular ? 'accent' : 'secondary'}
              size="md"
              class={plan.popular ? 'w-full text-center' : 'w-full text-center !bg-transparent !border-2 !border-primary hover:!bg-primary/10'}
            >
              {plan.cta}
            </CTA>
          </div>
        ))}
      </div>

      <p class="text-center text-sm text-text-light mt-8">
        {t(locale, 'smallBusiness.pricing.trial')}
      </p>
    </div>
  </section>

  {/* SEO Text Block */}
  <section class="py-16 bg-bg-alt">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl font-bold text-text mb-4">{seoBlockTitle}</h2>
      <p class="text-text-light leading-relaxed">{seoBlockText}</p>
    </div>
  </section>

  {/* FAQ */}
  <section class="reveal py-24 bg-bg">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <SectionHeading>{t(locale, 'smallBusiness.faq.title')}</SectionHeading>

      <div class="max-w-2xl mx-auto space-y-4">
        {faqItems.map((item) => (
          <details class="group bg-bg-card rounded-2xl border border-border overflow-hidden group-open:border-l-2 group-open:border-accent">
            <summary class="flex items-center justify-between cursor-pointer px-6 py-5 text-text font-semibold hover:bg-bg-card/80 transition-colors list-none [&::-webkit-details-marker]:hidden">
              <span>{item.question}</span>
              <svg class="w-5 h-5 text-text-light flex-shrink-0 ml-4 transition-transform group-open:rotate-180" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
              </svg>
            </summary>
            <div class="faq-content">
              <div class="faq-inner px-6 pb-5 text-text-light">
                {item.answer}
              </div>
            </div>
          </details>
        ))}
      </div>
    </div>
  </section>

  {/* Register CTA */}
  <section class="reveal py-20 bg-gradient-to-r from-accent/20 to-primary/10 border-t border-border">
    <div class="max-w-3xl mx-auto px-4 text-center">
      <h2 class="text-3xl font-bold text-text mb-4">
        {t(locale, 'smallBusiness.register.title')}
      </h2>
      <p class="text-lg text-text-light mb-8">
        {t(locale, 'smallBusiness.register.subtitle')}
      </p>
      <CTA href={getLocalizedPath('/dodaj-biznis', locale)} variant="accent" size="lg">
        {t(locale, 'smallBusiness.register.cta')}
      </CTA>
    </div>
  </section>

  {/* Bottom CTA */}
  <section class="reveal py-20 bg-gradient-to-r from-primary/20 to-accent/10 border-t border-border">
    <div class="max-w-3xl mx-auto px-4 text-center">
      <h2 class="text-3xl font-bold text-text mb-8">
        {t(locale, 'smallBusiness.cta.text')}
      </h2>
      <CTA href={getLocalizedPath('/contact', locale)} variant="accent" size="lg">
        {t(locale, 'home.hero.cta')}
      </CTA>
    </div>
  </section>

  {/* FAQ JSON-LD */}
  <script type="application/ld+json" set:html={JSON.stringify(faqJsonLd)} />
</BaseLayout>
